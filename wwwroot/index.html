<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>HACC.Demo</title>
    <base href="/"/>
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/app.css" rel="stylesheet"/>
    <link href="HACC.Demo.styles.css" rel="stylesheet"/>
    <link href="manifest.json" rel="manifest"/>
    <link href="icon-512.png" rel="apple-touch-icon" sizes="512x512"/>
    <link href="icon-192.png" rel="apple-touch-icon" sizes="192x192"/>
</head>

<body>
<div id="app">Loading...</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a class="reload" href="">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>
<script src="_content/Microsoft.AspNetCore.Components.WebAssembly.Authentication/AuthenticationService.js"></script>
<script src="_framework/blazor.webassembly.js"></script>
<script>navigator.serviceWorker.register('service-worker.js');</script>
<script>
    // HACC.JavaScript.beep.js
    // from: https://stackoverflow.com/a/29641185
    //All arguments are optional:

    //duration of the tone in milliseconds. Default is 500
    //frequency of the tone in hertz. default is 440
    //volume of the tone. Default is 1, off is 0.
    //type of tone. Possible values are sine, square, sawtooth, triangle, and custom. Default is sine.
    //callback to use on end of tone
    window.audioContextBeep = (duration, frequency, volume, type, callback) => {
        //if you have another AudioContext class use that one, as some browsers have a limit
        var audioCtx = new (window.AudioContext || window.webkitAudioContext || window.audioContext);

        var oscillator = audioCtx.createOscillator();
        var gainNode = audioCtx.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (volume) {
            gainNode.gain.value = parseFloat(volume);
        }
        if (frequency) {
            oscillator.frequency.value = parseFloat(frequency);
        }
        if (type) {
            oscillator.type = type;
        }
        if (callback) {
            oscillator.onended = callback;
        }

        oscillator.start(audioCtx.currentTime);
        oscillator.stop(audioCtx.currentTime + ((parseFloat(duration) || 500) / 1000));
    };

    // HACC.JavaScript.clipboard.js
    window.clipboardFunctions = {
        setText: function (clipboardText) {
            navigator.clipboard.writeText(clipboardText).then(function () {
                return true;
            })
            .catch(function (error) {
                return false;
            });
        },
        getText: function () {
            navigator.clipboard.readText().then(function (text) {
                return text;
            })
            .catch(function (error) {
                return null;
            });
        }
    };
</script>
</body>

</html>
